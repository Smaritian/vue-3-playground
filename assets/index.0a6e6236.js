var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,a=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,o=(e,o)=>{for(var r in o||(o={}))t.call(o,r)&&a(e,r,o[r]);if(n)for(var r of n(o))s.call(o,r)&&a(e,r,o[r]);return e};import{i as r,p as l,v as c,d as i,u,o as d,c as m,a as p,t as f,T as y,b,F as v,e as h,r as g,f as P,g as w,w as x,h as C,j as U,k,l as $,m as E,n as N,q as Q,s as S,x as j,y as q,z as L,A as _,S as O,B as R,C as I,D,E as M,G as A}from"./vendor.4d7cd0d1.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const s=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,o)=>{const r=new URL(e,s);if(self[t].moduleMap[r])return n(self[t].moduleMap[r]);const l=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){o(new Error(`Failed to import: ${e}`)),a(c)},onload(){n(self[t].moduleMap[r]),a(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("assets/");const B=Symbol("version");const V=i({name:"Header",setup(){const{state:e}=u();return{version:r(B),state:e}}}),T={class:"py-5 text-center"},Y=p("img",{class:"d-block mx-auto mb-4",src:"./logo.png",alt:"",width:"72",height:"72"},null,-1),F={class:"lead"},H={class:"mb-1"},G=p("x-username",null,null,-1);V.render=function(e,t,n,s,a,o){return d(),m(v,null,[p("div",T,[Y,p("h2",null,"Vue "+f(e.version)+" Playground",1),p("p",F," Below is an example form built with the Vue "+f(e.version)+" Composition API. ",1)]),(d(),m(y,{to:"#footer"},[p("p",H,[b("Â© "+f(e.state.year)+" ",1),G])]))],64)};const z=i({name:"App",components:{Header:V},setup(){const{dispatch:e}=u();l(B,c),h((()=>{e("onSetYear",(new Date).getFullYear())}))}});z.render=function(e,t,n,s,a,o){const r=g("Header"),l=g("router-view");return d(),m(v,null,[p(r),p(l)],64)};var J=P({state:{year:"1970"},actions:{onSetYear:({commit:e},t)=>{e("setYear",t)}},mutations:{setYear:(e,t)=>{e.year=t}}});const W=i({name:"Coupon",props:["percent"],emits:["redeem"],setup(e,{emit:t}){const n=w(e.percent);return{percent:n,useCoupon:()=>t("redeem",n.value)}}}),K={class:"card p-2"},X={class:"input-group"},Z={class:"input-group-append"};W.render=function(e,t,n,s,a,o){return d(),m("form",K,[p("div",X,[x(p("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.percent=t),type:"text",class:"form-control",placeholder:"Promo code"},null,512),[[C,e.percent]]),p("div",Z,[p("button",{onClick:t[2]||(t[2]=(...t)=>e.useCoupon&&e.useCoupon(...t)),type:"button",class:"btn btn-secondary"},"Redeem")])])])};const ee=i({name:"Item",props:["name","price","quantity"],emits:["update:name","update:price","update:quantity"],setup:(e,{emit:t})=>({updateName:e=>t("update:name",e),updatePrice:e=>t("update:price",e),updateQuantity:e=>t("update:quantity",e)})}),te={class:"row"},ne={class:"col-md-6 mb-3"},se=p("label",{for:"item-name"},"Name",-1),ae={class:"col-md-3 mb-3"},oe=p("label",{for:"item-price"},"Price",-1),re={class:"col-md-3 mb-3"},le=p("label",{for:"item-quantity"},"Quantity",-1);ee.render=function(e,t,n,s,a,o){return d(),m("div",te,[p("div",ne,[se,p("input",{value:e.name,onInput:t[1]||(t[1]=t=>e.updateName(t.target.value)),type:"text",class:"form-control",id:"item-name"},null,40,["value"])]),p("div",ae,[oe,p("input",{value:e.price,onInput:t[2]||(t[2]=t=>e.updatePrice(t.target.value)),type:"number",class:"form-control",id:"item-price"},null,40,["value"])]),p("div",re,[le,p("input",{value:e.quantity,onInput:t[3]||(t[3]=t=>e.updateQuantity(t.target.value)),type:"number",class:"form-control",id:"item-quantity"},null,40,["value"])])])};const ce=i({setup:async()=>({rates:(await Promise.resolve({base:"EUR",date:"2021-05-08",rates:{GBP:.870389,USD:1.216325}})).rates})}),ie={class:"list-group"},ue={class:"list-group-item"},de={class:"list-group-item"};let me;ce.render=function(e,t,n,s,a,o){return d(),m("ul",ie,[p("li",ue,"Change to USD: "+f(e.rates.USD),1),p("li",de,"Change to GBP: "+f(e.rates.GBP),1)])};const pe={};var fe=i({name:"Spinner",render:()=>U("div",{class:"spinner-border",role:"status"},[U("span",{class:"sr-only"},"Loading...")])}),ye=k({loader:()=>function(e,t){if(!t)return e();if(void 0===me){const e=document.createElement("link").relList;me=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in pe)return;pe[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":me,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>__import__("./Payment.07f78ffa.js")),["./assets/Payment.07f78ffa.js","./assets/vendor.4d7cd0d1.js"]),loadingComponent:fe,delay:0,onError(e,t,n,s){console.log("Retrying to load component",e),t()}});const be=i({name:"Username",setup:()=>({label:"Username"})}),ve={class:"mb-3"},he=p("label",{for:"username"},"Default label",-1),ge=p("div",{class:"input-group"},[p("div",{class:"input-group-prepend"}),p("input",{type:"text",class:"form-control",id:"username",placeholder:"Username"}),p("div",{class:"invalid-feedback",style:{width:"100%"}}," Your username is required. ")],-1);be.render=function(e,t,n,s,a,o){return d(),m("div",ve,[$(e.$slots,"default",{label:e.label},(()=>[he])),ge])};const Pe=i({name:"Cart",components:{Coupon:W,Item:ee,Exchange:ce,AsyncPayment:ye,Spinner:fe,Username:be},setup(){console.log("setup");const{product:e,secondName:t,secondPrice:n,secondQuantity:s,total:a,coupon:r,setCoupon:l}=(()=>{const e=E({firstName:"First Product",firstPrice:10,firstQuantity:1}),t=w("Second Product"),n=w(20),s=w(2),a=N((()=>(e.firstPrice*e.firstQuantity+n.value*s.value)*(100-o.value)/100)),o=w(10);return{product:e,secondName:t,secondPrice:n,secondQuantity:s,total:a,coupon:o,setCoupon:e=>o.value=e}})();Q((()=>console.log(`watchEffect: ${e.firstName} ${e.firstPrice}x${e.firstQuantity}`))),S([t],(()=>console.log(`watch: ${t.value} ${n.value}x${s.value}`))),h((()=>{console.log("mounted")})),j((()=>console.log("updated"))),q((()=>console.log("onunmounted")));const c=w(null);return L((e=>(c.value=e,!0))),o(o({},_(e)),{secondName:t,secondPrice:n,secondQuantity:s,total:a,coupon:r,setCoupon:l,error:c})}}),we={class:"row"},xe={class:"col-md-4 order-md-2 mb-4"},Ce=p("h4",{class:"d-flex justify-content-between align-items-center mb-3"},[p("span",{class:"text-muted"},"Cart")],-1),Ue={class:"list-group mb-3"},ke={class:"list-group-item d-flex justify-content-between lh-condensed"},$e={class:"my-0"},Ee={class:"text-muted"},Ne={class:"list-group-item d-flex justify-content-between lh-condensed"},Qe={class:"my-0"},Se={class:"text-muted"},je={class:"list-group-item d-flex justify-content-between"},qe=p("span",null,"Total (USD)",-1),Le={key:0},_e={class:"col-md-8 order-md-1"},Oe=p("h4",{class:"mb-3"},"Items",-1),Re={class:"needs-validation"},Ie={class:"row"},De={class:"col-md-6 mb-3"},Me=p("label",{for:"second-item-name"},"Name",-1),Ae={class:"col-md-3 mb-3"},Be=p("label",{for:"second-item-price"},"Price",-1),Ve={class:"col-md-3 mb-3"},Te=p("label",{for:"second-item-quantity"},"Quantity",-1),Ye={for:"username"},Fe=p("h4",{class:"mb-3"},"Payment",-1),He=p("hr",{class:"mb-4"},null,-1),Ge=b("Continue to checkout");Pe.render=function(e,t,n,s,a,o){const r=g("Coupon"),l=g("Exchange"),c=g("Spinner"),i=g("Item"),u=g("Username"),y=g("AsyncPayment"),b=g("router-link");return d(),m("div",we,[p("div",xe,[Ce,p("ul",Ue,[p("li",ke,[p("div",null,[p("h6",$e,f(e.firstName),1)]),p("span",Ee,"$"+f(e.firstPrice*e.firstQuantity),1)]),p("li",Ne,[p("div",null,[p("h6",Qe,f(e.secondName),1)]),p("span",Se,"$"+f(e.secondPrice*e.secondQuantity),1)]),p("li",je,[qe,p("strong",null,"$"+f(e.total),1)])]),p(r,{percent:10,onRedeem:e.setCoupon},null,8,["onRedeem"]),e.error?(d(),m("div",Le,f(e.error),1)):(d(),m(O,{key:1},{default:R((()=>[p(l)])),fallback:R((()=>[p(c)])),_:1}))]),p("div",_e,[Oe,p("form",Re,[p(i,{name:e.firstName,"onUpdate:name":t[1]||(t[1]=t=>e.firstName=t),price:e.firstPrice,"onUpdate:price":t[2]||(t[2]=t=>e.firstPrice=t),quantity:e.firstQuantity,"onUpdate:quantity":t[3]||(t[3]=t=>e.firstQuantity=t)},null,8,["name","price","quantity"]),p("div",Ie,[p("div",De,[Me,x(p("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.secondName=t),type:"text",class:"form-control",id:"second-item-name"},null,512),[[C,e.secondName]])]),p("div",Ae,[Be,x(p("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.secondPrice=t),type:"number",class:"form-control",id:"second-item-price"},null,512),[[C,e.secondPrice]])]),p("div",Ve,[Te,x(p("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.secondQuantity=t),type:"number",class:"form-control",id:"second-item-quantity"},null,512),[[C,e.secondQuantity]])])])]),p(u,null,{default:R((({label:e})=>[p("label",Ye,f(e),1)])),_:1}),Fe,p(y),He,p(b,{to:"/checkout",class:"btn btn-primary btn-lg btn-block"},{default:R((()=>[Ge])),_:1})])])};const ze=i({name:"Checkout",setup(){const{path:e}=I();return{path:e}}}),Je={class:"row"},We={class:"col-md-8 order-md-1"},Ke=p("h4",{class:"mb-3"},"Checkout",-1),Xe=b("Back to cart");ze.render=function(e,t,n,s,a,o){const r=g("router-link");return d(),m("div",Je,[p("div",We,[Ke,p("p",null,f(e.path),1),p(r,{to:"/",class:"btn btn-primary btn-lg btn-block"},{default:R((()=>[Xe])),_:1})])])};var Ze=D({history:M(),routes:[{path:"/",name:"cart",component:Pe},{path:"/checkout",name:"checkout",component:ze}]}),et={beforeMount(e,t,n,s){console.log(`directive: value - ${t.value}, argument - ${t.arg}, modifiers - ${JSON.stringify(t.modifiers)}`),e.innerHTML='<span class="input-group-text">@</span>'},mounted(){},beforeUpdate(){},updated(){},beforeUnmount(){},unmounted(){}};class tt extends HTMLElement{connectedCallback(){this.innerText="blacksonic"}}customElements.define("x-username",tt);const nt=A(z);nt.config.isCustomElement=e=>/^x-/.test(e),nt.use(J).use(Ze),nt.directive("AtSign",et),nt.mount("#app");
